<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.18/vue.min.js"></script>

<script>
    var lessonDashboardApp = new Vue({
        el: "#lessonDashboardApp",
        data: {
            vuex: JSON.parse(window.localStorage.getItem('vuex')),
            lesson: {},
            dialogue: {},
        },
        methods: {

            getAPIFetch: function(api) {
                let this_ = this
                fetch(api,{
                    credentials: 'same-origin',
                    headers: {
                        'Accept': 'application/json, text/plain, */*',
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer '+ this.vuex.token
                    },
                })
                .then(resp => resp.json())
                .then(res => {
                    this_.lesson = res
                    console.log("this result", res);
                    // return res;
                })

                // console.log(result);
                // return result;
            },

        }

    })

    lessonDashboardApp.getAPIFetch('api/v1/lessons/get-lesson?slug=hello-and-goodbye');
    // lessonDashboardApp.dialogue = lessonDashboardApp.getAPIFetch('/api/v1/lessons/get-dialogue?lessonId='+lessonDashboardApp.lesson.id);
    // var vuex = JSON.parse(window.localStorage.getItem('vuex'))
    

</script>